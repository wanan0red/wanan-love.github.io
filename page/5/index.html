<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>wanan</title><meta name="author" content="wanan"><meta name="copyright" content="wanan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="wanan">
<meta property="og:url" content="https://www.wanan.red/page/5/index.html">
<meta property="og:site_name" content="wanan">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wanan-1310031509.cos.ap-beijing.myqcloud.com/img/202203092159138.jpeg">
<meta property="article:author" content="wanan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wanan-1310031509.cos.ap-beijing.myqcloud.com/img/202203092159138.jpeg"><link rel="shortcut icon" href="https://wanan-1310031509.cos.ap-beijing.myqcloud.com/img/202203092159138.jpeg"><link rel="canonical" href="https://www.wanan.red/page/5/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="Lkrie_55AalLqll4AtBs-NEomlv8QQYHGMx1V0cbq88"/><meta name="baidu-site-verification" content="code-h7qMMwh8fd"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?0a85e115f35e16b8da9503b0d77633ca";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-FYB0HL88QE"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-FYB0HL88QE');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'wanan',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-02-14 18:41:47'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://wanan-1310031509.cos.ap-beijing.myqcloud.com/img/202203092159138.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">121</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">91</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">107</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background: linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">wanan</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">wanan</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/da9cf488.html" title="Cross-site scripting"><img class="post_bg" src="https://cdn.pixabay.com/photo/2017/05/09/03/46/alberta-2297204_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cross-site scripting"></a></div><div class="recent-post-info"><a class="article-title" href="/da9cf488.html" title="Cross-site scripting">Cross-site scripting</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-01-08T11:45:34.523Z" title="发表于 2023-01-08 19:45:34">2023-01-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/burp/">burp</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/burp/Cross-site-scripting/">Cross-site scripting</a></span></div><div class="content">https://portswigger.net/web-security/cross-site-scripting/cheat-sheet
XSS反射(1)
&lt;script&gt;alert(/1/)&lt;/script&gt;



存储(2)这里需要先存储xss到数据库接着查看




dom(3)这里是使用的 dom 

这里先进行

可以看到这里多了一段代码
&lt;script&gt;   function trackSearch(query) &#123;           document.write(&#x27;&lt;img src=&quot;/resources/images/tracker.gif?searchTerms=&#x27;+query+&#x27;&quot;&gt;&#x27;);    &#125;   var query = (new URLSearchParams(window.location.search)).get(&#x27;search&#x27;);   if(query) &#123;          trackSe ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/20e3649c.html" title="Cross-site request forgery"><img class="post_bg" src="https://cdn.pixabay.com/photo/2018/06/09/17/25/trees-3464777_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cross-site request forgery"></a></div><div class="recent-post-info"><a class="article-title" href="/20e3649c.html" title="Cross-site request forgery">Cross-site request forgery</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-01-08T11:45:34.520Z" title="发表于 2023-01-08 19:45:34">2023-01-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/burp/">burp</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/burp/Cross-site-request-forgery/">Cross-site request forgery</a></span></div><div class="content">没有防御的 CSRF 漏洞(1)
给了个账号 我们先登进去
存在一个更改邮箱的页面 我们可以看到没有任何的防护 说明是存在csrf漏洞的

我们可以选择自己写html文件 也可以使用burp自带的工具来生成

可以选择自动提交

&lt;html&gt;  &lt;!-- CSRF PoC - generated by Burp Suite Professional --&gt;  &lt;body&gt;  &lt;script&gt;history.pushState(&#x27;&#x27;, &#x27;&#x27;, &#x27;/&#x27;)&lt;/script&gt;    &lt;form action=&quot;https://0a6b008c04c81b0fc0979ae1008f0096.web-security-academy.net/my-account/change-email&quot; method=&quot;POST&quot;&gt;      &lt;input type=&quot;hidden&quot; name=&quot;emai ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/88774a13.html" title="Cross-origin resource sharing"><img class="post_bg" src="https://cdn.pixabay.com/photo/2016/10/22/17/46/mountains-1761292_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cross-origin resource sharing"></a></div><div class="recent-post-info"><a class="article-title" href="/88774a13.html" title="Cross-origin resource sharing">Cross-origin resource sharing</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-01-08T11:45:34.516Z" title="发表于 2023-01-08 19:45:34">2023-01-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/burp/">burp</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/burp/Cross-origin-resource-sharing/">Cross-origin resource sharing</a></span></div><div class="content">具有基本原点反射的 CORS 漏洞
可以看到获取用户敏感信息的请求 而这个请求是在我们登录之后它 自行访问的 当然也就是经过js代码出去的请求 并且观察响应头可以发现存在 Access-Control-Allow-Credentials: true

我们这里随意添加一个 Origin头 观察响应 发信息接收了请求 并且由于存在 Access-Control-Allow-Credentials: true  代表了可以发送cookie 也就是验证用户的身份 那么这里就造成一个问题 

如果我们伪造一个服务器托管上恶意的js代码 模仿这个请求去访问用户的数据. 当然如果我们自己访问这个网站当然是没有危害的 但是我们可以使用和csrf类似的攻击方式 让受害者去访问这个页面 接着我们就可以拿到受害者的敏感信息
&lt;script&gt;    var req = new XMLHttpRequest();    req.onload = reqListener;    // 当http请求完成后会调用这个函数    req.open(&#x27;get&#x27;,&#x27;https: ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/120e7910.html" title="Clickjacking"><img class="post_bg" src="https://cdn.pixabay.com/photo/2017/02/22/17/02/beach-2089936_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Clickjacking"></a></div><div class="recent-post-info"><a class="article-title" href="/120e7910.html" title="Clickjacking">Clickjacking</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-01-08T11:45:34.513Z" title="发表于 2023-01-08 19:45:34">2023-01-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/burp/">burp</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/burp/Clickjacking/">Clickjacking</a></span></div><div class="content">具有 CSRF 令牌保护的基本点击劫持
这里存在一个删除账号的按钮 其中使用csrf进行了保护 这里需要我们去伪造页面欺骗用户点击这个删除按钮

我们先来看一下官方的payload 
&lt;style&gt;    iframe &#123;        position:relative;        width:$width_value;        height: $height_value;        opacity: $opacity;        z-index: 2;    &#125;    div &#123;        position:absolute;        top:$top_value;        left:$side_value;        z-index: 1;    &#125;&lt;/style&gt;&lt;div&gt;Test me&lt;/div&gt;&lt;iframe src=&quot;YOUR-LAB-ID.web-security-academy.net/my-account&quot;&gt;& ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/6da97099.html" title="Business logic vulnerabilities"><img class="post_bg" src="https://cdn.pixabay.com/photo/2016/11/06/05/36/lake-1802337_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Business logic vulnerabilities"></a></div><div class="recent-post-info"><a class="article-title" href="/6da97099.html" title="Business logic vulnerabilities">Business logic vulnerabilities</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-01-08T11:45:34.510Z" title="发表于 2023-01-08 19:45:34">2023-01-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/burp/">burp</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/burp/Business-logic-vulnerabilities/">Business logic vulnerabilities</a></span></div><div class="content">过度信任客户端控制



高级逻辑漏洞




不一致的安全控制








有缺陷的业务规则执行



尝试再次使用这个优惠券 



SIGNUP30

尝试使用这个优惠券

当交替使用这两个优惠券时可行 


低级逻辑缺陷



可以看到到达一定数量变成了负数  说明价格已经超过了后端语言的最大整数值 
清空购物车

这次精准生成324个

接着将数量精准控制到32123 


接着通过购买金额小的商品将 价格控制为正数



异常输入的不一致处理

尝试使用一个长 邮箱来注册


登录后发现我们的邮箱被截取了

长度刚好是255位

因此我们可以这样构造
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/33d0b125.html" title="Authentication"><img class="post_bg" src="https://cdn.pixabay.com/photo/2016/12/14/04/08/thunderbolt-1905603_1280.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Authentication"></a></div><div class="recent-post-info"><a class="article-title" href="/33d0b125.html" title="Authentication">Authentication</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-01-08T11:45:34.507Z" title="发表于 2023-01-08 19:45:34">2023-01-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/burp/">burp</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/burp/Authentication/">Authentication</a></span></div><div class="content">通过不同响应枚举用户名
尝试登录




添加这些用户名 



更改用户名




2FA 简单旁路

使用 wiener登录

发现还存在 code 

可以发现我们的邮箱地址

尝试用carlos登录
直接转入 
/my-account


密码重置破坏逻辑

存在重置密码 
我们这里尝试重置 wiener 的密码


发现发送了 一封邮件


尝试更改carlos的密码

通过细微不同的响应枚举用户名


排下序 发现问题





通过响应计时的用户名枚举
尝试登录

发现成功登录时 直接跳转 

但是用户名错误时等待时间较长

密码错误时也一样

但是当尝试爆破时发现 禁止了ip

尝试添加xff头 


在 Columns并选择Response received和Response completed选项


可以发现 这里的这个用户名明显 响应时间长一点



可见都是这一个




破解暴力保护，IP 封锁
发现 当连续登录错误三次就会锁定

但是每当成功登录之后就会重置次数
尝试将待选密码和peter进行混合
with open(&#x27;passwd.txt&#x ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/424af0ec.html" title="Access control vulnerabilities"><img class="post_bg" src="https://cdn.pixabay.com/photo/2018/06/09/17/25/trees-3464777_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Access control vulnerabilities"></a></div><div class="recent-post-info"><a class="article-title" href="/424af0ec.html" title="Access control vulnerabilities">Access control vulnerabilities</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-01-08T11:45:34.503Z" title="发表于 2023-01-08 19:45:34">2023-01-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/burp/">burp</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/burp/Access-control-vulnerabilities/">Access control vulnerabilities</a></span></div><div class="content">不受保护的管理功能
/robots.txt


/administrator-panel



具有不可预测的 URL 的未受保护的管理功能

/admin-xr02aw


 
由请求参数控制的用户角色

修改 cookie


可以在用户配置文件中修改用户角色

在更新邮件的时候发现一个 roleid 我们尝试添加这个值

发现可行


请求参数控制用户ID

/my-account?id=carlos


请求参数控制用户ID，用户ID不可预测
可以看到 存在一个 id字段

尝试寻找carlos 的id


/my-account?id=f6027e85-b038-48a5-8b12-5487c871fdf8


用户ID受请求参数控制，重定向时数据泄露

/my-account?id=carlos

访问时会发生302重定向

但是访问的页面确实 carlos的页面


由请求参数控制的用户 ID，密码泄露
/my-account?id=wiener


/my-account?id=administrator

发现填充的 passwd

用得到的密码登录



不安全的直 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/8f358b78.html" title="honeypot"><img class="post_bg" src="https://cdn.pixabay.com/photo/2017/05/09/03/46/alberta-2297204_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="honeypot"></a></div><div class="recent-post-info"><a class="article-title" href="/8f358b78.html" title="honeypot">honeypot</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-19T02:04:58.571Z" title="发表于 2022-11-19 10:04:58">2022-11-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%85%B6%E4%BB%96/">其他</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%85%B6%E4%BB%96/honeypot/">honeypot</a></span></div><div class="content">pychram 打开项目 本地尝试
添加python 解释器



先安装几个包
pip install  Django pymysql markdown geoip2


新建数据库 students

settings.py中添加好连接信息

迁移一下数据 
python manage.py migrate


添加django服务器


尝试启动

成功访问

导出 requirements.txt 
pip freeze &gt; requirements.txt


dockeruname -a


剩下的操作全部都是在龙芯操作平台下完成的
yum search docker


yum install docker-ce -y


更改docker源
mkdir -p /etc/dockertee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;&#123;    &quot;registry-mirrors&quot;: [&quot;https://cr.loongnix.cn&quot;]&#125;EOFcat /et ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/74becc2d.html" title="osql&amp;Intranet!"><img class="post_bg" src="https://cdn.pixabay.com/photo/2018/08/23/07/35/thunderstorm-3625405_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="osql&amp;Intranet!"></a></div><div class="recent-post-info"><a class="article-title" href="/74becc2d.html" title="osql&amp;Intranet!">osql&amp;Intranet!</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-08T05:19:55.826Z" title="发表于 2022-11-08 13:19:55">2022-11-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%85%B6%E4%BB%96/">其他</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%85%B6%E4%BB%96/osql-Intranet/">osql&amp;Intranet!</a></span></div><div class="content">osql零过滤sql注入,也没有套娃  只不过数据库是oracl 其中简介是不要作弊意思 就是不要使用sqlmap去跑 这里就算你跑出来也是没有flag的  首先想教的就是拿到sql注入首先需要看看数据库类型 接着要去查看数据库版本 其次在id里有提示flag表里的内容是提示 所以不要说误导你 最后给的提示里面已经有答案了 

从题目可以看到有sql注入 并且题目名字是osql 所以 数据库可以猜测是oracle

这里进行尝试发现确实是oracle数据库 

看字段数 这里通过order by 可以发现 是3个字段 


这里从username 的名字也可以发现这里表的结构是 sqllibs的数据库表

其实这里就是一个提示信息 
这里尝试查看回显位 发现报错信息from关键字没有发现

直接查看sql官方语法

这里可以发现存在一个dual表, 当然这里如果你熟悉 sqllibs 的话会发现有一张users 的表 还有这里也可以知道有一张flag表,三个都可以去使用



尝试第一个dual 的时候发现存在数据类型不相同的问题

尝试flag发现表不存在




这里直接拿过来尝试 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/f3fb008f.html" title="博客搭建"><img class="post_bg" src="https://cdn.pixabay.com/photo/2017/07/19/01/41/clouds-2517653_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="博客搭建"></a></div><div class="recent-post-info"><a class="article-title" href="/f3fb008f.html" title="博客搭建">博客搭建</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-25T13:39:26.055Z" title="发表于 2022-10-25 21:39:26">2022-10-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%85%B6%E4%BB%96/">其他</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%85%B6%E4%BB%96/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">博客搭建</a></span></div><div class="content">前言并且本文除了 域名(可选) 腾讯云(一月一毛) 之外其他没有任何费用 也就是说完全可以做到零成本  选择腾讯云的原因是稳定 速度快 并且费用不高 
其次一定要注意的是中文符号问题 还有 yaml 文件的格式问题 一定要严格配置 如果报错请严格对比与我的差异
如果某一步出现了问题你发现上面配置错误了,那么请你从当前一步重新开始向下配置,因为你不知道中间哪一步已经错误了
本文所有的资料全部放到了网盘上面了
集合.zip: https://url80.ctfile.com/f/38761380-665836264-f32813?p=5709 (访问密码: 5709)

链接：https://pan.baidu.com/s/1kS3BQTVb7y8pf7ZNde1clA?pwd=ahjr 提取码：ahjr

禁用中文标点符号搞半天 一个中文符号 找半天错  中文符号可能导致报错 所以我们直接禁用


要用中文符号的时候可以按 ctrl + . 启动
typora编辑器的安装https://www.ghxi.com/typora.html 



下载bandzip
http://www.b ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/4/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/#content-inner">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/#content-inner">13</a><a class="extend next" rel="next" href="/page/6/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://wanan-1310031509.cos.ap-beijing.myqcloud.com/img/202203092159138.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">wanan</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">121</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">91</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">107</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/0.html" title="无题"><img src="https://cdn.pixabay.com/photo/2015/10/30/20/13/sea-1014710_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/0.html" title="无题">无题</a><time datetime="2023-02-14T10:24:19.998Z" title="发表于 2023-02-14 18:24:19">2023-02-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/fd34f672.html" title="ATT&amp;CK(四)"><img src="https://cdn.pixabay.com/photo/2016/04/20/19/47/wolves-1341881_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ATT&amp;CK(四)"/></a><div class="content"><a class="title" href="/fd34f672.html" title="ATT&amp;CK(四)">ATT&amp;CK(四)</a><time datetime="2023-01-22T13:10:22.574Z" title="发表于 2023-01-22 21:10:22">2023-01-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/6290e97d.html" title="ATT&amp;CK(六)"><img src="https://cdn.pixabay.com/photo/2016/10/18/21/28/seljalandsfoss-1751463_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ATT&amp;CK(六)"/></a><div class="content"><a class="title" href="/6290e97d.html" title="ATT&amp;CK(六)">ATT&amp;CK(六)</a><time datetime="2023-01-22T13:10:22.570Z" title="发表于 2023-01-22 21:10:22">2023-01-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/fb9fa10f.html" title="ATT&amp;CK(五)"><img src="https://cdn.pixabay.com/photo/2017/05/09/03/46/alberta-2297204_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ATT&amp;CK(五)"/></a><div class="content"><a class="title" href="/fb9fa10f.html" title="ATT&amp;CK(五)">ATT&amp;CK(五)</a><time datetime="2023-01-22T13:10:22.566Z" title="发表于 2023-01-22 21:10:22">2023-01-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/79843956.html" title="ATT&amp;CK(二)"><img src="https://cdn.pixabay.com/photo/2017/02/22/17/02/beach-2089936_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ATT&amp;CK(二)"/></a><div class="content"><a class="title" href="/79843956.html" title="ATT&amp;CK(二)">ATT&amp;CK(二)</a><time datetime="2023-01-22T13:10:22.561Z" title="发表于 2023-01-22 21:10:22">2023-01-22</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Crypto/"><span class="card-category-list-name">Crypto</span><span class="card-category-list-count">3</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Crypto/RSA%E7%AE%97%E6%B3%95%E8%A7%A3%E9%87%8A/"><span class="card-category-list-name">RSA算法解释</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Crypto/%E5%BC%82%E6%88%96/"><span class="card-category-list-name">异或</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/GO/"><span class="card-category-list-name">GO</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">6</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/Linux%E5%AD%A6%E4%B9%A0-%E4%B8%80/"><span class="card-category-list-name">Linux学习(一)</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/Linux%E5%AD%A6%E4%B9%A0-%E4%B8%89/"><span class="card-category-list-name">Linux学习(三)</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/Linux%E5%AD%A6%E4%B9%A0-%E4%BA%8C/"><span class="card-category-list-name">Linux学习(二)</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Crypto/" style="font-size: 1.22em; color: rgb(86, 13, 4)">Crypto</a><a href="/tags/CTF/" style="font-size: 1.45em; color: rgb(172, 64, 50)">CTF</a><a href="/tags/RSA%E7%AE%97%E6%B3%95%E8%A7%A3%E9%87%8A/" style="font-size: 1.15em; color: rgb(180, 77, 150)">RSA算法解释</a><a href="/tags/%E5%BC%82%E6%88%96/" style="font-size: 1.15em; color: rgb(144, 182, 69)">异或</a><a href="/tags/GO/" style="font-size: 1.15em; color: rgb(104, 70, 68)">GO</a><a href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" style="font-size: 1.25em; color: rgb(194, 179, 53)">编程语言</a><a href="/tags/leetCode/" style="font-size: 1.18em; color: rgb(132, 157, 148)">leetCode</a><a href="/tags/Linux/" style="font-size: 1.32em; color: rgb(108, 111, 66)">Linux</a><a href="/tags/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C/" style="font-size: 1.25em; color: rgb(139, 64, 6)">攻防世界</a><a href="/tags/misc/" style="font-size: 1.15em; color: rgb(7, 118, 26)">misc</a><a href="/tags/burp/" style="font-size: 1.42em; color: rgb(133, 129, 178)">burp</a><a href="/tags/Authentication/" style="font-size: 1.15em; color: rgb(196, 71, 156)">Authentication</a><a href="/tags/Clickjacking/" style="font-size: 1.15em; color: rgb(6, 81, 69)">Clickjacking</a><a href="/tags/cors/" style="font-size: 1.15em; color: rgb(142, 153, 104)">cors</a><a href="/tags/csrf/" style="font-size: 1.15em; color: rgb(162, 14, 72)">csrf</a><a href="/tags/DOM-based-vulnerabilities/" style="font-size: 1.15em; color: rgb(123, 85, 14)">DOM-based vulnerabilities</a><a href="/tags/xss/" style="font-size: 1.15em; color: rgb(74, 127, 150)">xss</a><a href="/tags/Essential-skills/" style="font-size: 1.15em; color: rgb(3, 24, 43)">Essential skills</a><a href="/tags/JWT/" style="font-size: 1.18em; color: rgb(41, 184, 166)">JWT</a><a href="/tags/smuggling/" style="font-size: 1.15em; color: rgb(134, 106, 151)">smuggling</a><a href="/tags/Prototype-pollution/" style="font-size: 1.15em; color: rgb(138, 106, 129)">Prototype pollution</a><a href="/tags/sql/" style="font-size: 1.15em; color: rgb(167, 170, 23)">sql</a><a href="/tags/ssti/" style="font-size: 1.15em; color: rgb(76, 99, 187)">ssti</a><a href="/tags/ssrf/" style="font-size: 1.15em; color: rgb(118, 56, 73)">ssrf</a><a href="/tags/Python/" style="font-size: 1.28em; color: rgb(79, 39, 118)">Python</a><a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 1.18em; color: rgb(155, 142, 107)">框架</a><a href="/tags/Django/" style="font-size: 1.15em; color: rgb(145, 72, 118)">Django</a><a href="/tags/WebSockets/" style="font-size: 1.15em; color: rgb(121, 155, 181)">WebSockets</a><a href="/tags/xxe/" style="font-size: 1.15em; color: rgb(155, 44, 81)">xxe</a><a href="/tags/flask/" style="font-size: 1.15em; color: rgb(198, 11, 95)">flask</a><a href="/tags/%E8%8A%B1%E6%B4%BB/" style="font-size: 1.22em; color: rgb(87, 56, 16)">花活</a><a href="/tags/re/" style="font-size: 1.15em; color: rgb(87, 158, 173)">re</a><a href="/tags/bugkuctf/" style="font-size: 1.15em; color: rgb(109, 36, 140)">bugkuctf</a><a href="/tags/android-re/" style="font-size: 1.15em; color: rgb(4, 158, 147)">android  re</a><a href="/tags/xctf/" style="font-size: 1.15em; color: rgb(33, 156, 100)">xctf</a><a href="/tags/SQL/" style="font-size: 1.38em; color: rgb(192, 86, 44)">SQL</a><a href="/tags/slqilabs%E9%9D%B6%E5%9C%BA/" style="font-size: 1.35em; color: rgb(114, 72, 184)">slqilabs靶场</a><a href="/tags/%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" style="font-size: 1.15em; color: rgb(194, 59, 80)">语言学习</a><a href="/tags/PHP/" style="font-size: 1.15em; color: rgb(22, 35, 36)">PHP</a><a href="/tags/XSS/" style="font-size: 1.18em; color: rgb(98, 174, 129)">XSS</a></div></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">121</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-06-09T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">470.4k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-02-14T10:41:46.036Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background: linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2023 By wanan</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"></div><div id="rightside-config-show"><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script src="https://cdn.jsdelivr.net/npm/blueimp-md5/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=monsterid'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (false) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://valine.wanan.red'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": 'RjFSSKpeg1lxuvDjmLndzaLO-MdYXbMMI',
        "X-LC-Key": '8qrAyIwMaJTebKjjzPnV0SFT',
        "Content-Type": "application/json",
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 1/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script>(function(d, w, c) {
    w.ChatraID = 'LAbfxFAsFCbvYgjHY';
    var s = d.createElement('script');
    w[c] = w[c] || function() {
        (w[c].q = w[c].q || []).push(arguments);
    };
    s.async = true;
    s.src = 'https://call.chatra.io/chatra.js';
    if (d.head) d.head.appendChild(s);
})(document, window, 'Chatra');

if (true) {
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      Chatra('openChat')
    });
  }
  chatBtnFn()
} else {
  if (false) {
    function chatBtnHide () {
      Chatra('hide')
    }
    function chatBtnShow () {
      Chatra('show')
    }
  }
}</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>